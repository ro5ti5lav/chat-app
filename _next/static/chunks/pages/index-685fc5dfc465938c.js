(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9537)}])},9537:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(5893),n=t(7294),c=t(6606);let r=new(t.n(c)())("43a4418e55410193c240",{cluster:"eu"});t(4005);var i=()=>(0,a.jsxs)("header",{className:"bg-primary text-white text-center py-3",children:[(0,a.jsx)("h1",{children:"Welcome to the Chat App!"}),(0,a.jsx)("p",{children:"Feel free to chat with others."})]}),l=()=>{let e=new Date().getFullYear();return(0,a.jsx)("footer",{className:"bg-primary text-white text-center py-3",children:(0,a.jsxs)("p",{children:["\xa9 ",e," MyChat. All rights reserved."]})})};function d(){let[e,s]=(0,n.useState)([]),[t,c]=(0,n.useState)(""),[d,h]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=r.subscribe("chat");return e.bind("message",e=>{s(s=>[...s,e])}),()=>{e.unbind_all(),e.unsubscribe()}},[]);let o=async()=>{t&&d&&(await fetch("/api/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,username:d})}),c(""))};return(0,a.jsxs)("div",{className:"container mt-4",children:[(0,a.jsx)(i,{}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-4",children:(0,a.jsx)("div",{className:"card chat-card p-4",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h4",{className:"chat-title",children:"Chat Input"}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("input",{type:"text",className:"form-control message-input",placeholder:"Enter your name",value:d,onChange:e=>h(e.target.value)})}),(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("input",{type:"text",className:"form-control message-input",placeholder:"Enter your message",value:t,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o())}})}),(0,a.jsx)("button",{className:"btn btn-primary w-100",onClick:o,children:"Send"})]})})}),(0,a.jsx)("div",{className:"col-md-8",children:(0,a.jsx)("div",{className:"card chat-window p-4",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h4",{className:"chat-title",children:"Messages"}),(0,a.jsx)("div",{className:"message-list",children:(0,a.jsx)("ul",{className:"list-group",children:e.slice().reverse().map((e,s)=>(0,a.jsxs)("li",{className:"list-group-item message-item",children:[(0,a.jsxs)("strong",{children:[e.username,": "]}),e.message,(0,a.jsx)("span",{className:"badge float-end ".concat(e.sentiment>=0?"positive-badge":"negative-badge"),children:e.sentiment>=0?"Positive":"Negative"})]},s))})})]})})})]}),(0,a.jsx)(l,{})]})}}},function(e){e.O(0,[606,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);